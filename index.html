<!DOCTYPE html>
<html lang="vi" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ph·∫ßn M·ªÅm Th·ªùi Kh√≥a Bi·ªÉu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        .schedule-cell {
            min-height: 120px;
            transition: all 0.2s ease;
        }
        
        .schedule-cell:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .time-slot {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .morning-session {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        
        .afternoon-session {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        
        input[type="text"] {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }
        
        input[type="text"]:focus {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.02);
        }
        
        .save-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }
        
        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }
        
        .clear-btn {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            transition: all 0.3s ease;
        }
        
        .clear-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 154, 158, 0.4);
        }
    </style>
</head>
<body class="h-full bg-gradient-to-br from-blue-50 via-white to-purple-50 font-sans">
    <div class="min-h-full p-6">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">üìö Th·ªùi Kh√≥a Bi·ªÉu</h1>
            <p class="text-gray-600">Qu·∫£n l√Ω l·ªãch h·ªçc h√†ng tu·∫ßn c·ªßa b·∫°n</p>
        </header>

        <div class="max-w-7xl mx-auto">
            <!-- N√∫t ƒëi·ªÅu khi·ªÉn -->
            <div class="flex justify-center gap-4 mb-6">
                <button onclick="saveSchedule()" class="save-btn text-white px-6 py-3 rounded-lg font-semibold shadow-lg">
                    üíæ L∆∞u Th·ªùi Kh√≥a Bi·ªÉu
                </button>
                <button onclick="clearSchedule()" class="clear-btn text-white px-6 py-3 rounded-lg font-semibold shadow-lg">
                    üóëÔ∏è X√≥a T·∫•t C·∫£
                </button>
            </div>

            <!-- Th√¥ng b√°o -->
            <div id="notification" class="hidden fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50">
                ƒê√£ l∆∞u th√†nh c√¥ng!
            </div>

            <!-- B·∫£ng th·ªùi kh√≥a bi·ªÉu -->
            <div class="bg-white rounded-2xl shadow-2xl overflow-hidden">
                <table class="w-full">
                    <thead>
                        <tr class="time-slot text-white">
                            <th class="p-4 text-left font-bold">Th·ªùi Gian</th>
                            <th class="p-4 text-center font-bold">Th·ª© 2</th>
                            <th class="p-4 text-center font-bold">Th·ª© 3</th>
                            <th class="p-4 text-center font-bold">Th·ª© 4</th>
                            <th class="p-4 text-center font-bold">Th·ª© 5</th>
                            <th class="p-4 text-center font-bold">Th·ª© 6</th>
                            <th class="p-4 text-center font-bold">Th·ª© 7</th>
                        </tr>
                    </thead>
                    <tbody id="scheduleTable">
                        <!-- Bu·ªïi s√°ng -->
                        <tr class="morning-session">
                            <td colspan="7" class="p-3 text-center font-bold text-gray-700 text-lg">
                                üåÖ BU·ªîI S√ÅNG
                            </td>
                        </tr>
                        <!-- 5 ti·∫øt bu·ªïi s√°ng -->
                        <tr class="border-b border-gray-100">
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 1<br><span class="text-sm opacity-90">7:00 - 7:45</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="morning-1" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="morning-1" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-1" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-1" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="morning-1" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="morning-1" data-day="saturday"></td>
                        </tr>
                        <tr class="border-b border-gray-100">
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 2<br><span class="text-sm opacity-90">7:45 - 8:30</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="morning-2" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="morning-2" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-2" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-2" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="morning-2" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="morning-2" data-day="saturday"></td>
                        </tr>
                        <tr class="border-b border-gray-100">
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 3<br><span class="text-sm opacity-90">8:45 - 9:30</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="morning-3" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="morning-3" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-3" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-3" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="morning-3" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="morning-3" data-day="saturday"></td>
                        </tr>
                        <tr class="border-b border-gray-100">
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 4<br><span class="text-sm opacity-90">9:30 - 10:15</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="morning-4" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="morning-4" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-4" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-4" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="morning-4" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="morning-4" data-day="saturday"></td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 5<br><span class="text-sm opacity-90">10:30 - 11:15</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="morning-5" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="morning-5" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-5" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="morning-5" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="morning-5" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="morning-5" data-day="saturday"></td>
                        </tr>

                        <!-- Bu·ªïi chi·ªÅu -->
                        <tr class="afternoon-session">
                            <td colspan="7" class="p-3 text-center font-bold text-gray-700 text-lg">
                                üåá BU·ªîI CHI·ªÄU
                            </td>
                        </tr>
                        <!-- 5 ti·∫øt bu·ªïi chi·ªÅu -->
                        <tr class="border-b border-gray-100">
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 6<br><span class="text-sm opacity-90">13:30 - 14:15</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="afternoon-1" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-1" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-1" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-1" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-1" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-1" data-day="saturday"></td>
                        </tr>
                        <tr class="border-b border-gray-100">
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 7<br><span class="text-sm opacity-90">14:15 - 15:00</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="afternoon-2" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-2" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-2" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-2" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-2" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-2" data-day="saturday"></td>
                        </tr>
                        <tr class="border-b border-gray-100">
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 8<br><span class="text-sm opacity-90">15:15 - 16:00</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="afternoon-3" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-3" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-3" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-3" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-3" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-3" data-day="saturday"></td>
                        </tr>
                        <tr class="border-b border-gray-100">
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 9<br><span class="text-sm opacity-90">16:00 - 16:45</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="afternoon-4" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-4" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-4" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-4" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-4" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-4" data-day="saturday"></td>
                        </tr>
                        <tr>
                            <td class="time-slot text-white p-4 font-semibold text-center">
                                Ti·∫øt 10<br><span class="text-sm opacity-90">17:00 - 17:45</span>
                            </td>
                            <td class="schedule-cell p-2" data-period="afternoon-5" data-day="monday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-5" data-day="tuesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-5" data-day="wednesday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-5" data-day="thursday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-5" data-day="friday"></td>
                            <td class="schedule-cell p-2" data-period="afternoon-5" data-day="saturday"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Kh·ªüi t·∫°o c√°c √¥ nh·∫≠p li·ªáu
        function initializeSchedule() {
            const cells = document.querySelectorAll('.schedule-cell');
            cells.forEach(cell => {
                const period = cell.dataset.period;
                const day = cell.dataset.day;
                
                cell.innerHTML = `
                    <div class="space-y-2">
                        <div class="relative">
                            <select class="w-full p-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 bg-white"
                                   data-field="subject"
                                   id="subject-${period}-${day}"
                                   onchange="handleSubjectChange(this)">
                                <option value="">-- Ch·ªçn m√¥n h·ªçc --</option>
                                <option value="To√°n">üìä To√°n</option>
                                <option value="Ng·ªØ vƒÉn">üìö Ng·ªØ vƒÉn</option>
                                <option value="Ti·∫øng Anh">üá¨üáß Ti·∫øng Anh</option>
                                <option value="V·∫≠t l√Ω">‚öõÔ∏è V·∫≠t l√Ω</option>
                                <option value="H√≥a h·ªçc">üß™ H√≥a h·ªçc</option>
                                <option value="Sinh h·ªçc">üß¨ Sinh h·ªçc</option>
                                <option value="L·ªãch s·ª≠">üìú L·ªãch s·ª≠</option>
                                <option value="ƒê·ªãa l√Ω">üåç ƒê·ªãa l√Ω</option>
                                <option value="GDCD">‚öñÔ∏è GDCD</option>
                                <option value="Tin h·ªçc">üíª Tin h·ªçc</option>
                                <option value="Th·ªÉ d·ª•c">üèÉ Th·ªÉ d·ª•c</option>
                                <option value="√Çm nh·∫°c">üéµ √Çm nh·∫°c</option>
                                <option value="M·ªπ thu·∫≠t">üé® M·ªπ thu·∫≠t</option>
                                <option value="C√¥ng ngh·ªá">üîß C√¥ng ngh·ªá</option>
                                <option value="Qu·ªëc ph√≤ng">üõ°Ô∏è Qu·ªëc ph√≤ng</option>
                                <option value="Ti·∫øng Ph√°p">üá´üá∑ Ti·∫øng Ph√°p</option>
                                <option value="Ti·∫øng Nh·∫≠t">üáØüáµ Ti·∫øng Nh·∫≠t</option>
                                <option value="Ti·∫øng Trung">üá®üá≥ Ti·∫øng Trung</option>
                                <option value="Sinh ho·∫°t l·ªõp">üë• Sinh ho·∫°t l·ªõp</option>
                                <option value="T·ª± h·ªçc">üìñ T·ª± h·ªçc</option>
                                <option value="custom">‚úèÔ∏è Nh·∫≠p m√¥n kh√°c...</option>
                            </select>
                            <input type="text" 
                                   placeholder="Nh·∫≠p t√™n m√¥n h·ªçc" 
                                   class="w-full p-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 hidden"
                                   data-field="custom-subject"
                                   id="custom-subject-${period}-${day}"
                                   onblur="handleCustomSubjectBlur(this)">
                        </div>
                        <input type="text" 
                               placeholder="Gi√°o vi√™n" 
                               class="w-full p-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200"
                               data-field="teacher"
                               id="teacher-${period}-${day}">
                        <input type="text" 
                               placeholder="Ph√≤ng h·ªçc" 
                               class="w-full p-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200"
                               data-field="room"
                               id="room-${period}-${day}">
                    </div>
                `;
            });
            
            // T·∫£i d·ªØ li·ªáu ƒë√£ l∆∞u
            loadSchedule();
        }

        // L∆∞u th·ªùi kh√≥a bi·ªÉu
        function saveSchedule() {
            const scheduleData = {};
            const cells = document.querySelectorAll('.schedule-cell');
            
            cells.forEach(cell => {
                const period = cell.dataset.period;
                const day = cell.dataset.day;
                const key = `${period}-${day}`;
                
                const subject = cell.querySelector('[data-field="subject"]').value;
                const teacher = cell.querySelector('[data-field="teacher"]').value;
                const room = cell.querySelector('[data-field="room"]').value;
                
                scheduleData[key] = {
                    subject: subject,
                    teacher: teacher,
                    room: room
                };
            });
            
            localStorage.setItem('scheduleData', JSON.stringify(scheduleData));
            showNotification('ƒê√£ l∆∞u th·ªùi kh√≥a bi·ªÉu th√†nh c√¥ng! üéâ');
        }

        // T·∫£i th·ªùi kh√≥a bi·ªÉu ƒë√£ l∆∞u
        function loadSchedule() {
            const savedData = localStorage.getItem('scheduleData');
            if (savedData) {
                const scheduleData = JSON.parse(savedData);
                
                Object.keys(scheduleData).forEach(key => {
                    const data = scheduleData[key];
                    const [period, day] = key.split('-');
                    
                    const subjectInput = document.getElementById(`subject-${period}-${day}`);
                    const teacherInput = document.getElementById(`teacher-${period}-${day}`);
                    const roomInput = document.getElementById(`room-${period}-${day}`);
                    
                    if (subjectInput) subjectInput.value = data.subject || '';
                    if (teacherInput) teacherInput.value = data.teacher || '';
                    if (roomInput) roomInput.value = data.room || '';
                });
            }
        }

        // X√≥a t·∫•t c·∫£ d·ªØ li·ªáu
        function clearSchedule() {
            const inputs = document.querySelectorAll('.schedule-cell input');
            inputs.forEach(input => {
                input.value = '';
            });
            localStorage.removeItem('scheduleData');
            showNotification('ƒê√£ x√≥a t·∫•t c·∫£ d·ªØ li·ªáu! üóëÔ∏è');
        }

        // Hi·ªÉn th·ªã th√¥ng b√°o
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.remove('hidden');
            
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }

        // X·ª≠ l√Ω khi ch·ªçn m√¥n h·ªçc
        function handleSubjectChange(selectElement) {
            const customInput = selectElement.parentElement.querySelector('[data-field="custom-subject"]');
            
            if (selectElement.value === 'custom') {
                // Hi·ªÉn th·ªã √¥ nh·∫≠p t·ª± do v√† ·∫©n dropdown
                selectElement.classList.add('hidden');
                customInput.classList.remove('hidden');
                customInput.focus();
            }
        }

        // X·ª≠ l√Ω khi ho√†n th√†nh nh·∫≠p m√¥n t·ª± do
        function handleCustomSubjectBlur(inputElement) {
            const selectElement = inputElement.parentElement.querySelector('[data-field="subject"]');
            
            if (inputElement.value.trim() === '') {
                // N·∫øu kh√¥ng nh·∫≠p g√¨, quay l·∫°i dropdown
                inputElement.classList.add('hidden');
                selectElement.classList.remove('hidden');
                selectElement.value = '';
            } else {
                // T·∫°o option m·ªõi cho m√¥n h·ªçc t·ª± nh·∫≠p
                const customValue = inputElement.value.trim();
                
                // Ki·ªÉm tra xem option ƒë√£ t·ªìn t·∫°i ch∆∞a
                let existingOption = selectElement.querySelector(`option[value="${customValue}"]`);
                if (!existingOption) {
                    // T·∫°o option m·ªõi
                    const newOption = document.createElement('option');
                    newOption.value = customValue;
                    newOption.textContent = `üìù ${customValue}`;
                    
                    // Th√™m v√†o tr∆∞·ªõc option "Nh·∫≠p m√¥n kh√°c..."
                    const customOption = selectElement.querySelector('option[value="custom"]');
                    selectElement.insertBefore(newOption, customOption);
                }
                
                // Ch·ªçn m√¥n h·ªçc v·ª´a nh·∫≠p
                selectElement.value = customValue;
                
                // ·∫®n input v√† hi·ªÉn th·ªã l·∫°i dropdown
                inputElement.classList.add('hidden');
                selectElement.classList.remove('hidden');
                
                // L∆∞u d·ªØ li·ªáu
                saveSchedule();
            }
        }

        // T·ª± ƒë·ªông l∆∞u khi ng∆∞·ªùi d√πng nh·∫≠p
        function setupAutoSave() {
            document.addEventListener('input', function(e) {
                if (e.target.matches('.schedule-cell input') || e.target.matches('.schedule-cell select')) {
                    // Debounce auto-save
                    clearTimeout(window.autoSaveTimeout);
                    window.autoSaveTimeout = setTimeout(() => {
                        saveSchedule();
                    }, 1000);
                }
            });
            
            document.addEventListener('change', function(e) {
                if (e.target.matches('.schedule-cell select')) {
                    // L∆∞u ngay khi ch·ªçn m√¥n h·ªçc
                    saveSchedule();
                }
            });
            
            // X·ª≠ l√Ω ph√≠m Enter trong √¥ nh·∫≠p t·ª± do
            document.addEventListener('keypress', function(e) {
                if (e.target.matches('[data-field="custom-subject"]') && e.key === 'Enter') {
                    e.target.blur(); // K√≠ch ho·∫°t s·ª± ki·ªán blur
                }
            });
        }

        // Kh·ªüi t·∫°o ·ª©ng d·ª•ng
        document.addEventListener('DOMContentLoaded', function() {
            initializeSchedule();
            setupAutoSave();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9906bdaea17afdbb',t:'MTc2MDc3NjkzMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
